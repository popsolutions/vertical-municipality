<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
        <template id="report_invoice_boleto_verso">
            <t t-call="web.html_container">
                <t t-foreach="docs" t-as="o">
                  <t t-set="lang" t-value="o.user_id.sudo().lang if o.type in ('in_invoice', 'in_refund') else o.partner_id.lang"/>
<!--                  <t t-call="account_payment.portal_invoice_payment" t-lang="lang"/>-->
                  <!--                    <t t-call="account_payment.portal_invoice_payment" t-lang="lang"/>-->

<!--                  <t t-call="account.report_invoice_document_with_payments" t-lang="lang"/>-->
                  <t t-call="l10n_br_account_payment_brcobranca_batch.report_invoice_boleto_frente" t-lang="lang"/>
                  <t t-call="l10n_br_account_payment_brcobranca_batch.report_invoice_boleto_verso_report" t-lang="lang"/>
                </t>
            </t>
        </template>

        <template id="report_invoice_boleto_verso_report">
            <t t-call="web.external_layout">
<!--                <t t-set="o" t-value="o.with_context(lang=lang)" />-->
                 <div class="text-center">
                    <t t-set="address">
                        <h1>. </h1>
                        <h1>. </h1>
                        <h1>. </h1>
                        <address t-field="o.partner_id" t-options='{"widget": "contact", "fields": ["address", "name"], "no_marker": True}' />
                        <div t-if="o.partner_id.vat" class="mt16"><t t-esc="o.company_id.country_id.vat_label or 'Tax ID'"/>: <span t-field="o.partner_id.vat"/></div>
                    </t>
                </div>
                <a t-att-href="o.get_portal_url()" t-att-title="o.number">
                    <t t-esc="o.number" t-if="o.number"/>
                    <em t-else="">Draft Invoice</em>
                </a>
                <t t-value="o.get_portal_url()"/>
            </t>
        </template>

        <report
            id="l10n_br_account_payment_brcobranca_batch.report_invoice_boleto_verso_report_id"
            model="account.invoice"
            string="Boleto/Verso"
            report_type="qweb-pdf"
            name="l10n_br_account_payment_brcobranca_batch.report_invoice_boleto_verso"
            file="l10n_br_account_payment_brcobranca_batch.report_invoice_boleto_verso"
            attachment="(object.state in ('open','in_payment','paid')) and ('INV'+(object.number or '').replace('/','')+'.pdf')"
            print_report_name="(object._get_report_base_filename())"
            groups="account.group_account_invoice"
        />
    </data>
</odoo>
